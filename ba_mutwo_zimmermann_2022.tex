\documentclass[12pt,a4paper,ngerman]{article}
\usepackage{listings}
\usepackage{color}

\definecolor{dkgreen}{rgb}{0,0.6,0}
\definecolor{gray}{rgb}{0.5,0.5,0.5}
\definecolor{mauve}{rgb}{0.58,0,0.82}

\lstset{%
  language=Python,
  aboveskip=3mm,
  belowskip=3mm,
  showstringspaces=false,
  columns=flexible,
  basicstyle={\small\ttfamily},
  numbers=none,
  numberstyle=\tiny\color{gray},
  keywordstyle=\color{blue},
  commentstyle=\color{dkgreen},
  stringstyle=\color{mauve},
  breaklines=false,
  breakatwhitespace=true,
  tabsize=3
}
\usepackage[ngerman]{babel}
\usepackage[T1]{fontenc}
\usepackage{lscape}
\usepackage[utf8]{luainputenc}
\usepackage{relsize,etoolbox}
\usepackage[onehalfspacing]{setspace}
\usepackage{hyperref}
\usepackage{setspace} % Has to be AFTER hyperref, see https://tex.stackexchange.com/questions/188273/using-setspace-package-breaks-footnotes-link
\usepackage{rotating}
\usepackage{xcolor}
\usepackage{xparse}
\usepackage[letterspace=900]{microtype}
\usepackage{lmodern}
\usepackage{fancyhdr}
\usepackage{graphicx}
\usepackage{float}
\usepackage{amsmath}
\usepackage{amsfonts}
\usepackage[hang,flushmargin]{footmisc}
\usepackage{tabularx}
\usepackage[font=smaller,labelfont=bf,skip=4pt,figureposition=top]{caption}
\captionsetup[figure]{position=above}
\usepackage{sectsty}
\usepackage{array}
\usepackage{tabu}
\usepackage{verbatim}
\usepackage{enumitem}

\usepackage[
  headheight=15pt,
  bmargin=34mm,
  % rmargin=3cm,
  % lmargin=2.5cm,
  % bmargin=2cm,
  % tmargin=2.5cm,
]{geometry}

\usepackage[
    % citestyle=authortitle-comp,  % this is too verbose!
    citestyle=authoryear-comp,
    bibstyle=numeric,
    % hyperref=false  % has to be set to false if you want to activate the hack which skips the "o.D." date
]{biblatex}

% Supress "n.d." (no date) entry for online references.
% \DeclareLabeldate[online]{%
%   \field{date}
%   \field{year}
%   \field{eventdate}
%   \field{origdate}
%   \field{urldate}
% }


% % Supress "n.d." (no date) entry for online references.
% % Use author instead of title for online cite
% %   https://stackoverflow.com/questions/69582838/biblatex-website-citation-is-italicized-and-uses-title-instead-of-author-when-r 
% \DefineBibliographyStrings{english}{nodate = {\ifboolexpr{test{\ifentrytype{online}}}{\hskip-.2777em}{n\adddot d\adddot}}}
% \DefineBibliographyStrings{german}{nodate = {\ifboolexpr{test{\ifentrytype{online}}}{\hskip-.2777em}{n\adddot d\adddot}}}



\newrobustcmd*{\parentexttrack}[1]{%
  \begingroup
  \blx@blxinit
  \blx@setsfcodes
  \blx@bibopenparen#1\blx@bibcloseparen
  \endgroup}

\AtEveryCite{%
  \let\parentext=\parentexttrack%
  \let\bibopenparen=\bibopenbracket%
  \let\bibcloseparen=\bibclosebracket}


\usepackage{tablefootnote}

% SET FONT
% \usepackage[cmintegrals,cmbraces]{newtxmath}\usepackage{ebgaramond-maths}\usepackage{helvet}
% \usepackage[cmintegrals,cmbraces]{newtxmath}
% \usepackage[T1]{fontenc}

\usepackage{fontspec}
\usepackage{ebgaramond}
\usepackage{ebgaramond-maths}

% \setmainfont{TeX Gyre Pagella}%% The Palatino from the TeX Gyre Project

% \makesavenoteenv{tabular}
% \makesavenoteenv{table}
\addbibresource{referencesbib.bib}

\sectionfont{\fontsize{14}{15}\selectfont}
\subsectionfont{\fontsize{12}{15}\selectfont}


% \setlength\parindent{1pt}
% \parskip0mm

% If there is an empty line, we will only create a new paragraph (but no white space)
\parskip=0pt plus 1pt
\parindent=0pt


% header and footer style
\pagestyle{fancy}
\fancyhead[R]{\slshape}
\fancyhead[L]{\slshape\nouppercase{\rightmark}}
\fancyfoot[C]{\thepage}
\renewcommand{\sectionmark}[1]{\markright{\thesection\ #1}}


% for tables side by side
% https://stackoverflow.com/questions/28678824/in-latex-how-to-put-two-separate-tables-side-by-side-on-top-of-the-paper
\def \hfillx {\hspace*{-\textwidth} \hfill}

% custom commands
\newcommand{\mailto}[1]{\href{mailto:#1}{#1}}

% Titel and author
% \title{\includegraphics[width=0.8\textwidth]{pictures/folk_logoicemCMYKDT}\\
% Bewegte Stille: \emph{Euler Lattice Spirals Scenery}}
% 
% \author{Levin Eric Zimmermann\\
% {\normalsize \mailto{levin-eric.zimmermann@folkwang-uni.de}}}
% \date{20. September 2020}

% \linespread{1.4}
\linespread{1.5}
\AtBeginEnvironment{quotation}{\smaller}
\AtBeginEnvironment{quote}{\smaller}

\begin{document}


%************************************TITLE PAGE**************************************%

\begin{titlepage}

\newcommand{\HRule}{\rule{\linewidth}{0.5mm}} % Defines a new command for the horizontal lines, change thickness here

\center% Center everything on the page
 
%----------------------------------------------------------------------------------------
%	HEADING SECTIONS
%----------------------------------------------------------------------------------------

% \textsc{\LARGE Folkwang Universität der Künste}\\[0.5cm] % Name of your university/college
% \textsc{\large Institut für Computermusik und Elektronische Medien}\\[0.5cm] % Minor heading such as course title
\includegraphics[width=0.8\textwidth]{pictures/folk_logoicemCMYKDT}\\[1cm] % Include a department/university logo - this will require the graphicx package
\textsc{\Large Bachelorprojekt Integrative Komposition}\\[0.5cm] % Major heading such as course name
% \textsc{\large Course code}\\[0.5cm] % Minor heading such as course title

%----------------------------------------------------------------------------------------
%	TITLE SECTION
%----------------------------------------------------------------------------------------

\HRule\\[0.4cm]
{\huge \emph{mutwo}: eine Ereignis zentrierte Umgebung zur Formalisierung zeitbasierter Künste}\\[0.2cm]
\HRule\\[1.5cm]
 
%----------------------------------------------------------------------------------------
%	AUTHOR SECTION
%----------------------------------------------------------------------------------------

% noindent
\begin{minipage}[b]{.25\textwidth}
\end{minipage}%
\begin{minipage}[b]{.25\textwidth}
\begin{flushleft}
\textsc{Autor:}

\textsc{Email:}

\textsc{Matrikelnummer:}

\textsc{Betreuung:}
\end{flushleft}
\end{minipage}%
\begin{minipage}[b]{.5\textwidth}
\begin{flushleft}
Levin Eric Zimmermann % Your name

{\normalsize \mailto{levin-eric.zimmermann@folkwang-uni.de}}

2332991

Prof. Dr. Michael Edwards
\end{flushleft}
\end{minipage}

\vspace{2cm}


%----------------------------------------------------------------------------------------
%	DATE SECTION
%----------------------------------------------------------------------------------------

{\large 01. August 2022}\\[2cm] % Date, change the \today to a set date if you want to be precise

\vfill % Fill the rest of the page with whitespace

\end{titlepage}

% \maketitle
% \thispagestyle{empty}
\newpage


% \linespread{1.4}
{
    \setstretch{1.35}
    \tableofcontents
}


\newpage

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


\section{Einleitung}

\subsection{Komposition und Werkzeuge (I)}

\begin{quote}
    ``It would seem axiomatic that any music [\dots] reveals the philosophic attitude of its creator.
    It also seems self-evident that if his attitude is vigorous and individualistic, his practical requirements are not neccessarily satisfied by the traditions he was born to;
    they may even require direct antitheses.''~\parencite[S. 3]{genesisOfMusic}
\end{quote}

\noindent
Komposition ist von einer unbestimmten Menge Werkzeuge bedingt.
Die Menge umfasst Kulturtechnologien wie Notation oder Stimmungen, Handwerk wie Instrumentenbau, Architekturen wie Konzerthäuser und \emph{pendapa}, soziale Strukturen des Musizierens oder mathematische und logische Denkmodelle.

\bigskip

\noindent
Letztgenannte Teilmenge umfasst Stimmführungsregeln oder 12-Ton Reihen.
Sie können als eine geordnete Sequenz diskreter Handlungsschritte beschrieben werden, die Eingangswerte in Ausgangswerte transformieren (i.e. Algorithmen)~\parencite[S. 3]{introductionToAlgorithms}.
Algorithmische Komposition bezeichnet Komposition, die diese Werkzeuge verwendet~\parencite[S. 1]{algorithmicCompositionParadigms}.
% XXX: Satz kürzer machen, besser leserlich
% wie Stimmführungsregeln in Fugen oder 12-Ton Reihen.

\bigskip

\noindent
Mit dem Aufkommen der Computer wurden traditionelle Werkzeuge digitalisiert.
Lejaren Hiller und Leonard Isaacson sind als erste Personen bekannt, die Algorithmen in einem Computersystem zum Zweck der Komposition implementierten~\parencite[S. 63]{algorithmicCompositionParadigms}.
Auf sie folgten weitere.
% Vielleicht Beispiele nennen? James Tenny, John Cage, etc.?
Mit fortschreitender Entwicklung wuchs die Notwendigkeit generische Programmbestandteile zu entwickeln, die in unterschiedlichsten Arbeiten wieder verwendet werden können (Bibliotheken oder Rahmen)~\parencite[S. 78]{paradigmsAndComputerMusic}.

\bigskip

\noindent
Im Herbst 2020 kann ich eine Vielzahl von Softwarebibliotheken für algorithmische Komposition finden.
Unzufrieden mit bestehenden Lösungen beginnen Tim Pauli und ich eine autonome Lösung zu entwickeln.
Fast zwei Jahre später, im Sommer 2022, umfasst das resultierende \emph{mutwo} Ökosystem über 22000 Zeilen Quellcode und 430 Tests.
Seit initialer Entwicklung sind mithilfe des Projektes sechs Kompositionen entstanden.

\bigskip

\noindent
In vorliegender Arbeit möchte ich \emph{mutwo} dokumentieren.
Quelloffen und mit der GPL-3.0 Lizenz veröffentlicht ist \emph{mutwo} für Dritte zugänglich.
Wirkliche Zugänglichkeit ist aber nur mit ausreichender Dokumentation gewährleistet.
Meine kompositorische Arbeit ist durch die Bemühungen unzähliger Menschen möglich, die Freie Software veröffentlichen~\footnote{Hier ist \emph{Frei} im Sinne der Definition der \emph{Free Software Foundation} (FSF) verstanden. Die FSF bezeichnet eine Software als Freie Software, falls sie von Benutzer:innen geteilt, gelesen und verändert werden darf~\parencite{freeSoftwareDefinition}.}.
Mit der Dokumentation \emph{mutwos} möchte ich einen Teil in die Gemeinschaften Freier Software zurückgeben.

\subsection{Komposition und Werkzeuge (II)}
\label{compositionAndTools2}

\noindent
% Absatz: Begründung Aufwand eigenes Werkzeug entwickeln
Was Partch mit ``praktische Notwendigkeiten'' bezeichnet, begreife ich als kompositorische Werkzeuge.
Das Zitat impliziert, dass diese mitnichten neutral sind, sondern sich in einem engen Austausch mit den inneren Vorstellungen der Werkschaffenden befinden.
Mit der autonomen Entwicklung akustischer Instrumente war es Partch möglich implizite Vorbedingungen der Komposition via expliziter Entscheidungen neu zu verhandeln.
% xxx: das koennte man schreiben, wenn man betonen will, warum es so sinn macht sich so sehr mit
% xxx: den grundsaetzlichen kompositionswerkzeugen zu beschaeftigen:
% xxx: Wahrscheinlich zu viel unwichtiges. Auserdem habe ich keine lust quellen zu suchen :)
% Der Fokus auf statische, periphere oder undifferenzierten Aspekte einer Tradition, mag verbindender Aspekt der Musik des 20. Jahrhunderts sein.
% Anton Webern, Luigi Nono oder John Cage befreiten Stille von seiner rhetorisch-devoten Funktion.
% Mit Helmut Lachenmann wurden undifferenzierte Nebengeräusche akustischer Instrumente zum präzise gestalteten Hauptschauplatz.
Die Begründung der Anstrengung für die kompositorische Praxis Programme zu entwickeln, deckt sich für mich mit seiner Begründung für die Konstruktion eigener Instrumente.
Vernachlässigte Eigenschaften in bestehender Software verhindern eine Kongruenz von innerer Vorstellung und praktischen Möglichkeiten.
Besonders die Voreingenommenheit populärer Musiksoftware ist bekannt.
% TODO(One more quote!)
% TODO(Add references!)
Andrew Gerzso benennt die von konventioneller Musik geprägten Annahmen eines Sequenzers~\parencite[S. 78]{paradigmsAndComputerMusic}.
Kyam Allami bemängelt die oberflächliche, exotisierende Repräsentationen außereuropäischer Tonsystemen in kommerzieller Musiksoftware~\parencite[S. 59f]{microtonalityAndTheStruggle}.
Aber auch esoterischere Technologien wie Softwarebibliotheken für algorithmische Komposition unterliegen inhärenten Limitierungen.

\bigskip

% Absatz: die Limitierungen in bestehender Software ist und was du anders machen wolltest (Motivation)
\noindent
Limitierende Paradigmen mir bekannter Bibliotheken waren und sind ausschlaggebend für die Entwicklung \emph{mutwos}.
% eigentlich wie bei partch hat mich anfang die tonhöhen problematik gestört.
Meine initiale Begegnung mit Einschränkungen betraf Tonhöhenstrukturen.
In meiner kompositorischen Arbeit begreife ich Intervalle als ganzzahlige Frequenzverhältnisse (reine Stimmung).
Meine bevorzugte Tonhöhenrepräsentation von Verhältnissen befindet sich jenseits europäischer Tonhöhennamen oder der MIDI Spezifikation.

\bigskip

\noindent
In der Bibliothek \emph{SCAMP} werden Tonhöhen als Gleitkommazahl repräsentiert, die Tonhöhennummern der MIDI Spezifikation bezeichnen~\parencite{scampNoteLikeDefinition}.

\smallskip

Die Software \emph{Euterpea} deklariert Tonhöhen als zweielementige Tupel.
Das erste Element ist ein Tonklassenname europäischer Tradition (z.~B. \texttt{cs} oder \texttt{fbb}) und das zweite eine natürliche Zahl zur Indikation der Oktave~\parencite{euterpeaPitchDefinition}.

\smallskip

Die Notenklasse der Bibliothek \emph{jMusic} definiert drei unterschiedliche Konstruktoren, um Tonhöhen festzulegen:
wird dem Tonhöhenargument natürliche Zahlen zugewiesen, werden diese als Tonhöhennummern der MIDI Spezifikation interpretiert.
Gleitkommazahl werden als Frequenz gelesen, Zeichenketten als europäische Tonhöhennamen.
Die innere Repräsentation der Klasse erlaubt nur die Darstellung in Frequenz oder MIDI Nummer, sodass Tonhöhennamen vom Konstruktor umgewandelt werden~\parencite{jMusicSource}.

\smallskip

In \emph{slippery-chicken} sind Tonhöhen über eine eigene Klasse implementiert.
Die Funktion \texttt{make-pitch} erzeugt eine neue \texttt{pitch}--Instanz.
Ähnlich wie bei \emph{jMusic} gibt es unterschiedliche mögliche Datentypen des notwendigen Arguments \texttt{pitch} der \texttt{make-pitch} Funktion.
Falls \texttt{pitch} ein Symbol oder eine Zeichenkette ist, wird das Argument als Tonname europäischer Tradition gelesen.
Ist \texttt{pitch} eine Zahl wird diese als die Frequenz der Tonhöhe interpretiert.
Der Klasse \texttt{pitch} sind Attribute zugewiesen wie z.~B. \texttt{midi-note}, \texttt{white-note}, \texttt{accidental} oder \texttt{frequency}~\parencite{slipperyChickenSource}.

\bigskip

\noindent
Die exemplarische Beschreibungen verdeutlichen die Schwierigkeit der Repräsentation von Tonhöhen als Schwingungsverhältnisse in bestehenden Lösungen.
Es ist denkbar, beschriebene Software zu erweitern.

\smallskip

In \emph{SCAMP} oder \emph{Euterpea} könnte man eine neue Klasse bzw. Deklaration und Umwandlungsfunktion definieren, die Tonhöhen als Verhältnisse beschreiben.

\smallskip

In \emph{jMusic} oder \emph{slippery-chicken} könnte man von den Klassen \texttt{Note} bzw. \texttt{pitch} erben.
In der abgeleiteten Klasse könnten dann ein weiteres Attribut (z.~B. \texttt{ratio}) hinzugefügt werden bzw. der entsprechende Konstruktor hinzugefügt werden.

\smallskip

Die Erweiterung von \emph{SCAMP} oder \emph{Euterpea} befände sich aber außerhalb der Bibliothek.
Die Operationen mit dem erweiterten Potenzial würden jenseits einer Interaktion mit Funktionen und Instanzen der Bibliothek statt finden.

\smallskip

Die Erweiterung von \emph{jMusic} oder \emph{slippery-chicken} befände sich innerhalb der Bibliothek.
Die abgeleiteten Klassen oder neue Konstruktoren enthielten vererbte Attribute, die für sie potenziell unwesentlich wären (z.~B. Informationen zu westlicher Notation).

\bigskip

Das Projekt \emph{mutwo} ist der Versuch der Realisierung der Utopie allen Benutzer:innen unvoreingenommen ihre jeweilige Repräsentation zu unterstützen.
Das Projekt ist Versuch und Utopie, weil die Komplexität der Spezifikation und Implementierung Einschränkungen bedingt.
Eine Präzision dieser Limitierungen findet sich im späteren Teil vorliegender Arbeit.
Die Einschränkungen betreffen daneben Grenzen, denen alle Programmierumgebungen algorithmischer Komposition unterworfen sind.
Sie tendieren z.~B. zum Ausschluss musikalischer Praxen, welche Improvisation der Komposition vorziehen.

\bigskip

% Abstatz: Struktur BA Arbeit

% % Strukturell besteht der erste Teil der Arbeit aus einer knappen Übersicht bestehender Softwareprojekte.
% % Im zweiten Teil wird \emph{mutwo} vorgestellt.
% % Ausgangspunkt ist hierbei eine umfassende Darstellung der Motivation der Entwicklung und Absicht der Software.
% % Daran knüpft eine abstrakte Spezifikation ihrer Architektur an.
% % Anschließend werden konkrete Programmierstrategien zur Umsetzung der Absicht vorgestellt.
% % Eine Beispiel--orientierte Einführung ergänzt die abstrakte Architekturspezifikation.
% % Vor abschließender Zusammenfassung werden zwei Fallbeispiele präsentiert, die zeigen wie \emph{mutwo} in komplexen Kompositionsprojekten eingesetzt werden kann.

Struktureller Ausgangspunkt der Vorstellung \emph{mutwos} ist eine umfassende Darstellung der Motivation und Absicht dessen Entwicklung.
Daran knüpft eine abstrakte Spezifikation ihrer Architektur an.
Anschließend werden konkrete Programmierstrategien zur Umsetzung der Absicht vorgestellt.
Die Strategien dokumentieren innere Zusammenhänge der Software.
Umfassendes Verständnis für sie sind für avancierte Anwendungen und Weiterentwicklung oder Instandhaltung der Software notwendig.
% Eine Beispiel--orientierte Einführung ergänzt die abstrakte Architekturspezifikation.
Vor abschließender Zusammenfassung werden zwei Fallbeispiele präsentiert, die zeigen wie \emph{mutwo} in komplexen Kompositionsprojekten eingesetzt werden kann.



\bigskip

Manchmal sind Konzepte mit Programmcode in der Programmiersprache Python verdeutlicht.
Syntax der Sprache wird nicht erklärt, von einem grundsätzlichen Verständnis wird ausgegangen~\footnote{%
    Bei Unklarheiten wird auf Pythons offizielle Sprachreferenz verwiesen~\parencite{pythonLanguageReference}.
}.
% Manche Programmcodebeispiele sind in Jupyter Notebooks realisiert.  % XXX: nicht so wichtig?
Verdeutlichende Graphiken sind informell und folgen nicht (oder nur lose) einer formalisierten Strategie (wie z.~B. UML).


% Code:
%   core: 4314
%   music: 8061
%   midi: 1528
%   csound: 385
%   abjad: 4017
%   reaper: 108
%   common: 1091
%   ekmelily: 1356
%   isis: 388
%   mbrola: 162
%   zimmermann: 335
%   mmml: 965
%
%   ==============
%     22710 lines


% Tests:
%   core: 146
%   music: 168
%   common: 16
%   midi: 41
%   abjad: 22
%   ekmelily: 9
%   csound: 8
%   isis: 4
%   mbrola: 7
%   reaper: 2
%   zimmermann: 8
%
%   =============
%     431 tests

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

% \section{Umgebungen computergestützter Komposition}
% 
% % name
% % veröffentlichungsjahr
% % entwickler/institution
% % lizenz
% % kosten (2022)
% % unterstützte Plattformen 
% % Sprache (implementierung) 
% % Sprache (Anwendung) 
% % beschreibung
% % aktiv
% % notation
% % midi
% % gui
% % 
% % kulitta
% 
% 
% % TODO(quellen angeben)
% % TODO(besonderheiten recherchieren)
% \begin{landscape}
%     \begin{table}[h!]
% 
%         \begin{center}
% 
%             \begin{smaller}
% 
%                 \begin{tabularx}{22cm}{X X X X X X X X X}
%                     \hline
%                     Name &
%                     Initiale Entwicklung &
%                     Lizenz &
%                     Kosten (2022) &
%                     Kompatible Plattformen &
%                     Implementiert in\dots &
%                     Angewendet mit\dots & 
%                     Westliche Notation &
%                     MIDI \\ [0.5ex] 
% 
%                     \hline\hline
% 
%                     Common Music &
%                     1989 &
%                     Vizsage Public License &
%                     -- &
%                     Linux/GNU, macOS, Windows &
%                     Common Lisp &
%                     Common Lisp & 
%                     ja &
%                     ja \\[1cm]
% 
% 
%                     JMusic &
%                     1998 &
%                     PSF License v2 &
%                     -- &
%                     Linux/GNU, macOS, Windows &
%                     Java &
%                     Java & 
%                     ja &
%                     ja \\[1cm]
% 
%                     OpenMusic &
%                     1998 &
%                     GPL v3.0 &
%                     -- &
%                     Linux/GNU, macOS, Windows &
%                     Common Lisp &
%                     OpenMusic & 
%                     ja &
%                     ja \\[1cm]
% 
%                     slippery-chicken &
%                     2000 &
%                     GPL v3.0 &
%                     -- &
%                     Linux/GNU, macOS, Windows &
%                     Common Lisp &
%                     Common Lisp & 
%                     ja &
%                     ja \\[1cm]
% 
%                     Abjad &
%                     2013 &
%                     GPL v3.0 &
%                     -- &
%                     Linux/GNU, macOS, Windows &
%                     Python &
%                     Python & 
%                     ja &
%                     nein \\[1cm]
% 
%                     Opusmodus &
%                     2014 &
%                     Properetär &
%                     250€ - 399€ &
%                     macOS &
%                     Common Lisp &
%                     Common Lisp & 
%                     ja &
%                     ja \\[1cm]
% 
%                     JythonMusic &
%                     2014 &
%                     GPL v2.0 &
%                     -- &
%                     Linux/GNU, macOS, Windows &
%                     Jython &
%                     Jython & 
%                     ja &
%                     ja \\[1cm]
% 
%                     Euterpea 2.0 &
%                     2015 &
%                     zlib &
%                     -- &
%                     Linux/GNU, macOS, Windows &
%                     Haskell &
%                     Haskell & 
%                     ja &
%                     ja \\[1cm]
% 
%                     SCAMP &
%                     2019 &
%                     GPL v3.0 &
%                     -- &
%                     Linux/GNU, macOS, Windows &
%                     Python &
%                     Python & 
%                     ja &
%                     ja \\%
%                     [0.5ex]
%                     \hline
%                 \end{tabularx}
% 
%             \end{smaller}
% 
%         \end{center}
% 
%     \caption{Liste aktiver Bibliotheken}
%     \end{table}
% \end{landscape}
% 
% % \subsection{isobar}
% % 
% % \subsection{Abjad}
% % 
% % \subsection{SCAMP}
% % 
% % \subsection{Open Music}
% % 
% % \subsection{Opusmodus}
% % 
% % \subsection{Slippery Chicken}
% % 
% % \subsection{Strasheela}



%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\section{\emph{mutwo}}

\subsection{Motivation und Absicht}
\label{motivationUndAbsicht}

Motivation der initialen Entwicklung \emph{mutwos} war die Erkenntnis einer Diskrepanz zwischen bestehenden Softwareprojekten und meiner eigenen Arbeitsweise.
Diese Diskrepanz bedingte die Vorstellung eines Softwaredesigns, was möglichst generisch und flexibel ist.
Je unspezifischer die Software wäre, desto einfacher sollte es für Dritte sein, diese für ihre Zwecke anzupassen~\footnote{%
    Dritte umfassen auch mich selbst in einer unbestimmten Zukunft, in der ich Notwendigkeiten entdecke, die mir in der Gegenwart noch unbewusst sind.%
}.

\smallskip

Zugleich wurde deutlich, dass Gegebenheiten definiert und konkretisiert werden müssen, um eine sinnvolle Bibliothek bereitzustellen.
Die wichtigste Aufgabe einer Bibliothek ist es letztlich wiederverwendbare, praktische Bestandteile zwischen unterschiedlichen Projekten zu teilen.
Ist eine Bibliothek zu unspezifisch, mag diese Voraussetzung unerfüllt bleiben.

\bigskip

% Unterschiedliche Bereiche sind von der generischen Struktur betroffen.  % der satz hat keinen inhalt
\emph{Mutwos} Designabsicht kann unter dem Begriff des Agnostizismus oder der Neutralität zusammengefasst werden.

\begin{enumerate}

    \item{
            \textbf{ \emph{Mutwo} ist software- und protokollagnostisch. }
            \emph{Mutwo} trennt innere Repräsentationen von Spezifikationen dritter Software oder Protokolle.
            Spezifikationen dieser entstehen am Rande der Bibliothek, wenn innere Repräsentationen in die entsprechenden Strukturen umgewandelt werden.
            % maybe too verbose
            % Notation wird z.~B. nicht durch bestimmte tags von \emph{MusicXML} oder Codeschnipsel von \emph{Lilypond} beschrieben, sondern über abstraktere, generische Objekte.
            Das ermöglicht eine flexible Adaption an unterschiedliche dritte Software oder Protokolle.
    }

    \item{
            \textbf{ \emph{Mutwo} ist medienagnostisch. }
            Die grundsätzliche Struktur ist so unspezifisch, dass verschiedene zeitbasierte Künste darstellbar sind.
    }

    \item{
            \textbf{ \emph{Mutwo} ist interfaceagnostisch. }
            \emph{Mutwo} ist nur eine lose zusammenhängende, erweiterbare Sammlung von Objekten.
            Die Bibliothek macht keine Aussagen über eine bestimmte Arbeitsweise mit diesen Objekten.
            Die Bibliothek kann als Grundlage für ein bestimmtes Interface verwendet werden, ist aber unabhängig von diesem.
    }

    \item{
            \textbf{ \emph{Mutwo} ist ästhetikneutral. }
            Die Software vermeidet ästhetische Entscheidungen.
    }

    \item{
            \textbf{ \emph{Mutwo} ist plattformübergreifend. }
            \emph{Mutwo} ist mit Technologien entwickelt, die von unterschiedlichen Betriebssystemen unterstützt werden.
    }

    \item{
            \textbf{ \emph{Mutwo} ist traditionsagnostisch. }
            \emph{Mutwos} Kern inkludiert und exkludiert keine Repräsentationen bestimmter (Musik--)Traditionen.
    }

    \item{
            \textbf{ \emph{Mutwo} ist unabhängig. }
            Die Bibliothek wird unabhängig von Institutionen entwickelt.
            Sie kann von allen Menschen gelesen, geteilt und verändert werden.
            Sie ist befreit von monetären Absichten.
    }

\end{enumerate}

% Der generische Aufbau wird flankiert von dem Designziel möglichst einfach, offen und verständlich zu sein
Der Komplexität unspezifischer Abstraktionen wird die Absicht entgegengesetzt, möglichst einfach, intuitiv--verwendbar und verständlich zu sein.
Beide Zielen unterliegen der gemeinsamen Intention offen, zurückhaltend und freundlich gegenüber Benutzer:innen zu sein.
In den folgenden Präzisierungen der Softwarearchitektur und der Entwicklungsstrategien wird verdeutlicht, wie diese Gegensätze ineinander integriert sind.



% unzufriedenheit bestehender loesungen:
%   - schwierigkeit am rande von common-western-music etwas zu machen
%       - stimmungen
%       - aber auch andere notation: kepathian
%   - bei bestehenden loesungen: zu viel konzentration auf notation oder westliche musik

% wuensche von software:
%   - moeglichst wenig einschraenkungen (auch keine von denen ich heute denke dass sie ok sind)
%       - möglichst offen verständlich
%       - hackable & configurable: wenige verstecke variablen
%   - erstmal als programmier-bibliothek gedacht und weniger als gui software

% einerseits möglichst flexibel
% andererseits möglichst leicht verständlich

% nicht per se widersprüchlich: denn es sollte einfach möglichst gut anpassbar sein für
% die eigenen zwecke, und das benötigt nunmalls flexibilität und aber auch verständlichkeit


\subsection{Softwarearchitektur}

\subsubsection{Komponenten und Beziehungen}

Objekte in \emph{mutwo} sind in strikte Kategorien eingeteilt:

\bigskip

\hspace{0.5cm}
\begin{minipage}{0.95\textwidth}
    \begin{description}[style=multiline, leftmargin=2.25cm, font=\normalfont\emph]
        \item[Ereignisse] beschreiben eine Bewegung.
        \item[Parameter] sind Ereignissen zugeordnet und definieren die Qualität der Bewegung.
        \item[Übersetzer] transformieren Inhalt oder Form einer Entität (z.~B. Ereignis, Parameter).
        \item[Generatoren] erzeugen Daten für eine künstlerische Arbeit.
    \end{description}
\end{minipage}

\bigskip

Abbildung~\ref{fig:mutwoStructure} skizziert die Beziehungen der unterschiedlichen Kategorien zueinander.

\begin{figure}[H]
    % \hspace{-1cm}
    \begin{center}
        % \hspace{0.5cm}
        \includegraphics[scale=0.38]{pictures/mutwo-structure.png}
    \end{center}
    \caption{%
        Beziehungen zwischen verschiedenen Komponenten \emph{mutwos}.
    }
    \label{fig:mutwoStructure}
\end{figure}



\subsubsection{Ereignisse}
\label{eventDefinitions}

Ein Ereignis beschreibt eine Bewegung in einem Koordinatensystem mit $n\in\mathbb{N}:n>0$ Dimensionen.
Die Bewegung wird durch $n$ Vektoren dargestellt.
Dimensionen können der Zeit, räumlichen Achsen (X, Y und Z) oder theoretischen Konstrukte (z.~B. den Primzahlexponenten eines Tonnetzes) entsprechen.
% Wahrscheinlich unwichtiges Detail
% \footnote{%
%         In Version 0.61.0 von mutwos Kernpaket sind Ereignissen immer nur der Vektor \emph{Dauer} in der Dimension \emph{Zeit} zugeordnet.
%         Das ist ein Implementierungsdetail, was in zukünftigen Versionen anders umgesetzt werden mag.
% }

\bigskip

Ereignissen sind zusätzliche Objekte zugeordnet, die Eigenschaften der Bewegung definieren.
Ein zugewiesenes Objekt könnte für einen Klang z.~B. eine Tonhöhe sein.
Für eine zweidimensionale räumliche Bewegung wäre eine Farbe denkbar, für eine dreidimensionale Bewegung eine bestimmte Gangart.

\bigskip

In \emph{mutwos} Terminologie werden Objekte, die als Attribute einem bestimmten Ereignis zugewiesen sind, als Parameter bezeichnet.
Weil auch Vektoren als Attribute einem Ereignis zugeordnet sind, sind sie nur eine besondere Unterkategorie von Parametern.
In \emph{mutwos} objektorientiertem Paradigma sind Ereignisse und Parameter Klassen und deren Instanzen.

\bigskip

% Ich bin mir nicht sicher, ob diese Grafik so besonders informativ ist.

% \begin{figure}[h!]
%     \includegraphics[scale=0.4]{uml_diagrams/event_parameter_basic_150.png}
% 
%     \caption{%
%         Ein Ereignis kann einen oder mehrere Vektoren enthalten.
%         Ein Ereignis kann einen oder mehrere Parameter enthalten.
%     }
% \end{figure}

\begin{table}[h!]
    \begin{center}
        \begin{tabular}{l l l l} 
            \hline
            Klassenname & ist Behälter & innere Verhältnisse & Beispiel \\ [0.5ex] 
            \hline\hline
            \texttt{SimpleEvent} & nein & - & ein Ton, ein Strich \\ 
            \texttt{SequentialEvent} & ja & akkumulierend & eine Melodie, ein Quadrat \\ 
            \texttt{SimultaneousEvent} & ja & parallel & Polyphonie, zwei Rechtecke \\ [1ex] 
            \hline
        \end{tabular}
    \end{center}

    \caption{Kernereignisse in \emph{mutwo}}
\end{table}

Ereignisse können andere Ereignisse enthalten oder keine anderen Ereignisse enthalten.
Falls Ereignisse andere Ereignisse enthalten, können die enthaltenen Ereignisse wiederrum iterativ weitere Ereignisse enthalten (Verschachtlung).
Falls ein Ereignis Ereignisse enthält, können diese entweder simultan (parallel) oder sequenziell (akkumulierend) angeordnet sein.
Mit den drei Ereignisklassen \texttt{SimpleEvent}, \texttt{SequentialEvent} und \texttt{SimultaneousEvent} sind alle Möglichkeiten darstellbar.

\begin{figure}[h!]
    \begin{center}
        \includegraphics[scale=0.5]{pictures/nested_event.png}

        \caption{Exemplarische Verschachtlung von Ereignissen}
    \end{center}
\end{figure}


\subsubsection{Parameter}
\label{parameterSpecification}

Parameter repräsentieren generische Kategorien, die Ereignissen zugeordnet werden.
Generische Kategorien können beispielweise eine Farbe, eine Tonhöhe oder ein Luftdruck sein.

\bigskip

% XXX: Erwähne die abstrakte Klassen - Implementierungsdetails später (Entwicklungsstrategien)
% In \emph{mutwos} Design sind Parameter als abstrakte Klassen definiert, die eine minimale, öffentliche Programmierschnittstelle beschreiben.
% Diese minimale Schnittstelle versucht Parameter auf eine kompakte Identität zu reduzieren, die unabhängig ist von bestimmten Traditionen.
\emph{Mutwo} versucht Parameter über eine möglichst kompakte, generische Identität zu beschreiben.
Wenn möglich besteht diese kompakte Identität aus nur einem Wert (z.~B. Zeichenkette oder Zahl).
Wenn möglich ist der Wert implizit einer physikalischen Einheit zugeordnet.

\begin{table}[h!]
    \begin{center}
        \begin{tabular}{l l} 
            \hline
            Parameter & Einheit \\ [0.5ex] 
            \hline\hline
            Tonhöhe & Hertz \\ 
            Tonhöhenintervall & Cents \\ 
            Dauer & beats \\ 
            Text & X-SAMPA\footnotemark \\ 
            Lautstärke & Volt \\ [1ex] 
            \hline
        \end{tabular}
    \end{center}

    \caption{Liste exemplarischer Ein-Wert-Parameter}
\end{table}

\footnotetext{%
    Das ``Extended Speech Assessment Methods Phonetic Alphabet'' ermöglicht die Darstellung der phonetischen IPA Symbole in ASCII.~\parencite{xsampaWikipedia}
}

\subsubsection{Übersetzer}

Ein Übersetzer transformiert eine Entität in eine andere Entität.
Entitäten sind entweder Objekte in Python oder externe Dateien.\footnote{%
    Objekte in Python können Instanzen von \emph{mutwo} internen Klassen, dritten Bibliotheken oder nativen Klassen sein.
    Externe Dateien umfassen beispielweise Mididateien oder Textdateien.
}
Transformieren bedeutet hier entweder eine Veränderung des Inhalts oder eine Veränderung des Formats.


\begin{table}[h!]
    % \hspace{-0.5cm}
    \begin{center}
        \smaller
        \begin{tabular}{l l l l} 
            \hline
            Klassenname & Eingangsentität & Ausgangsentität & Typ \\ [0.5ex] 
            \hline\hline
            \texttt{EventToMidiFile} & Instanz einer Ereignisklasse & Standard Midi File (SMF) & Format \\ 
            \texttt{MidiFileToEvent} & Standard Midi File (SMF) & Instanz einer Ereignisklasse & Format \\ 
            % XXX: Ist zu lange, kleinere Tabelle sieht schöner aus :)
            % \texttt{TwoPitchesToCommonHarmonicTuple} & Zwei Tonhöheninstanzen & Instanzen gemeinsamer Harmonischer & Inhalt \\ 
            \texttt{PitchToTabulaturaPitch} & Tonhöheninstanz & Tonhöheninstanz & Inhalt \\ [1ex] 
            \hline
        \end{tabular}

    \end{center}
    \caption{Exemplarische Übersetzer}
\end{table}

\smallskip


Übersetzer in \emph{mutwo} folgen einem funktionalem Paradigma, dh.\ ein Übersetzer verändert nicht die Eingangsentität (keine Seiteneffekte), sondern erzeugt eine neue, unabhängige Entität.
Das vereinfacht das Übersetzen derselben Entität mit unterschiedlichen Übersetzer.

\subsubsection{Generatoren}

Generatoren liefern (zumeist generische) Daten, die für generative Kunst nützlich sein mögen.
Generatoren umfassen Funktionen, Klassen, Konstanten oder andere Objekte.
Die Rückgabewerte der Funktionen und Klassen sind häufig native Objekte der Programmiersprache, die von Benutzern kreativ angewendet werden können.

\begin{table}[h!]
    \begin{center}
        \begin{tabular}{l l} 
            \hline
            Objekt & Beschreibung \\ [0.5ex] 
            \hline\hline
            \texttt{reflected\_binary\_code} & Erzeugt variable Gray-Codes \\
            \texttt{TUNEABLE\_INTERVAL\_TUPLE} & intonierbare Intervalle nach Marc Sabat \\
            \texttt{ActivityLevel} & Zyklen der Werte 0 und 1 nach Michael Edwards \\ [1ex] 
            \hline
        \end{tabular}
    \end{center}

    \caption{Exemplarische Generatoren}
\end{table}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\subsection{Entwicklungsstrategien}

\subsubsection{Programmiersprache}
\label{programmingLanguage}

\emph{Mutwo} ist in der Programmiersprache Python implementiert.
Python ist eine interpretierte, höhere, multi-paradigmatische, plattformübergreifende Sprache.
Sie wurde 1991 erstveröffentlicht~\parencite{generalPythonFAQ}.

\smallskip

Die Entscheidung für die Implementierungs \emph{mutwo} in Python kann in folgenden Argumenten zusammengefasst werden.


\begin{enumerate}
    \item{
            \textbf{Python ist einfach zu lernen und zu benutzen.}
            Pythons imperativer vereinfachter Syntax ist intuitiv rasch zu begreifen.
            Als interpretierte Sprache entfällt die Komplexität der Kompilierung.
            \emph{Mutwos} Zielgruppe sind nicht primär  professionelle Softwareentwickler:innen, sondern Künstler:innen.
            Deshalb ist eine flache, schnelle Lernkurve sehr bedeutend.
            % Das ist eine sehr wichtige Eigenschaft, weil \emph{mutwo} in erster Linie für und von  intendiert ist
    }
    \item{
            \textbf{Python ist populär.}
            Es gibt eine hohe Wahrscheinlichkeit, dass bereits Dritte Probleme gelöst haben, die in einem Moment für Projekte in \emph{mutwo} relevant werden.
            Die Lösungen können je nach Lizenz verwendet und angepasst werden.
            Das reduziert die notwendige Entwicklungszeit und erlaubt einen stärkeren Fokus auf die eigentliche Aufgabe, der künstlerischen Arbeit.
            Zweitens ermöglicht eine populäre Sprache eine schnelle Recherche gewöhnlicher Probleme im Netz.
            Besonders für Anfänger:innen kann die Einstiegshürde damit signifikant gesenkt werden.
    }
    \item{
            \textbf{Python ist plattformübergreifend.}
            Weil entsprechend der \emph{\nameref{motivationUndAbsicht}} die Bibliothek \emph{mutwo} plattformübergreifend verwendet werden soll, ist eine unterliegende Technologie notwendig, die das unterstützt.
    }
\end{enumerate}


\subsubsection{Strukturierung des Quellcodes}
\label{quellcodeStruktur}

Der Quellcode von \emph{mutwo} ist nach rigiden Regeln strukturiert.
Die Struktur basiert auf Pythons System von verschachtelten Modulen, Importe und Paketen.
Die Strenge der Struktur folgt zwei Absichten.
Erstens soll sie für Benutzer:innen einfach -- da konsistent und repetitiv -- verwendbar sein.
Zweitens vereinfacht sie die Entwicklung und Instandhaltung eines komplexen Softwareprojekts.

\bigskip

Der Paketname der Bibliothek ist \emph{mutwo}.
% XXX: Das ist ein unwichtiges Detail über Python, was nicht viel über mutwos Entwicklungsstrategien erzählt
% Pakete können im Python-Ökosystem auf der Plattform \emph{pypi} verwaltet werden.
% Mit dem standardisierten Pythonpaketmanager \emph{pip} können Pakete von \emph{pypi} installiert werden.
% 
% \lstset{language=bash}
% 
% \begin{lstlisting}
%     pip3 install mutwo
% \end{lstlisting}
% 
Das Paket \emph{mutwo} ist in unterschiedliche Module geteilt.
Die unterschiedlichen Module korrelieren mit den zuvor beschriebenen elementaren Bestandteilen \emph{mutwos}.
Sie werden flankiert von zusätzlichen Hilfsmodulen.

\begin{table}[h!]
    \begin{center}
        \begin{tabular}{l l} 
            \hline
            Modulname & Modulbeschreibung \\ [0.5ex] 
            \hline\hline
            \texttt{configurations} & Globale modulübergreifende Konfigurationsvariablen \\
            \texttt{constants} & Globale modulübergreifende Konstanten \\
            \texttt{converters} & Import und Export von Daten, Übersetzen interner Strukturen \\
            \texttt{events} & Definition verschiedener Ereignisklassen \\
            \texttt{generators} & Generierung von Daten für künstlerische Arbeiten \\
            \texttt{parameters} & Klassen, deren Instanzen Ereignisattributen zugeordnet werden \\
            \texttt{version} & Versionsdefinition des Moduls \\
            \texttt{utilities} & Hilfsmethoden, Errordefinition \\ [1ex] 
            \hline
        \end{tabular}\label{table:modulDefinition}
    \end{center}

    \caption{Moduldefinitionen}
\end{table}

Module oder Pakete können in Python auf unterschiedliche Weisen importiert werden.
Die folgende Zeile dokumentiert die in \emph{mutwo} bevorzugte Weise:

\lstset{language=Python}

\begin{lstlisting}
    from mutwo import parameters
\end{lstlisting}

Pythons Punktoperator ermöglicht direkten Zugriff auf öffentliche Objekte der auf diese Weise importierten Module.

\lstset{language=Python}

\begin{lstlisting}
    # Direkter Zugriff auf die Klasse "WesternVolume"
    my_volume = parameters.WesternVolume("p")
\end{lstlisting}

Die Module können nur eine limitierte Anzahl expliziter Teilmodule enthalten.
Auf Objekte der Teilmodule muss mit Wiederholungen des Punktoperators zugegriffen werden.

\lstset{language=Python}

\begin{lstlisting}
    # Der Punktoperator ist zweimal notwendig, einmal für das
    # "parameters" Modul und dann für das "configurations" Teilmodul.
    parameters.configurations.DEFAULT_CONCERT_PITCH = 432
\end{lstlisting}

Abgesehen von den wenigen Teilmodulen genügt ein einziger Punktoperator, um auf Objekte zuzugreifen.
Weil die Regel für alle \emph{mutwo} Module gilt, ist ihre Struktur für neue Benutzer:innen einfach zu verstehen.
Sie korreliert mit der fünften Zeile des \emph{Zen of Python}:

\begin{quote}
    ``Flat is better than nested.''~\parencite{theZenOfPython}
\end{quote}

Folgende Tabelle beschreibt alle möglichen Teilmodule eines Moduls:

\begin{table}[H]
    \begin{center}
        \begin{tabular}{l l} 
            \hline
            Submodulname & Modulbeschreibung \\ [0.5ex] 
            \hline\hline
            \texttt{abc} & \emph{\nameref{abstractBaseClasses}} \\  % Definition der gemeinsamen öffentlichen Schnittstelle (API)
            \texttt{configurations} & Globale modifizierbare Variablen zur Modulkonfiguration \\
            \texttt{constants} & Globale Konstanten des Moduls \\
            \hline
        \end{tabular}
    \end{center}

    \caption{Submoduldefinitionen}
\end{table}

Die Strukturierung des Quellcodes in thematisch getrennte Module (mit wenigen Teilmodulen) ist aber unzureichend.
Weil die grundsätzliche Designprämisse von sehr generischen Strukturen ausgeht, die aber präzise spezifiziert werden können, ist der potenzielle Umfang der Bibliothek schwer fasslich.
In \emph{mutwo} ist das Problem durch eine modulare Struktur von thematisch getrennten Paketen gelöst.
Jedes Paket hat einen einzigartigen Namen, hat eine unabhängige Version, kann eigene Abhängigkeiten definieren und ist je nach Abhängigkeitsstruktur unabhängig von anderen Paketen installierbar.

\bigskip

Die modulare Strukturierung in separate Pakete hilft nicht nur der Entwicklung und Instandhaltung, sondern ermöglicht auch Nutzern nur diejenigen Programmbestandteile zu installieren, die für ein bestimmtes Projekt benötigt werden.
Das macht die Bibliothek leichter.
Mit der modularen Struktur können Dritte unkompliziert die Bibliothek durch weitere Funktionen erweitern.
Sie können einfach ein neues Paket dem \emph{mutwo} Ökosystem hinzufügen.

\bigskip

Technisch ist die Modularität durch Pythons Unterstützung von \emph{namespace packages} gelöst.
Das ermöglicht voneinander unabhängigen Pakete die Installation von Quellcode unter einem gemeinsamen Paketnamen.

\bigskip

Einzelne Pakete im \emph{mutwo} Ökosystem sind auf standardisierte Weise benannt.
Ihr Name setzt sich durch das Wort \emph{mutwo} und einem Begriff für die enthaltenen Funktionen zusammen.

\bigskip

\hspace{0.5cm}
\begin{minipage}{0.95\textwidth}
    \begin{description}[style=multiline, leftmargin=3.25cm, font=\normalfont\emph]
        \item[mutwo.core] Kunstform-, medien- und kulturagnostische Objekte
        \item[mutwo.music] Musikspezifische Objekte
        \item[mutwo.reaper] Funktionen, die mit der DAW Reaper zusammenhängen
    \end{description}
\end{minipage}

\bigskip

Das \emph{mutwo} Ökosystem setzt die anfänglich beschriebene Struktur von Modulen und Submodulen auch in separaten Paketen um.
Die Namen der Module sind Kompositionen aus einem Präfix und einem Suffix.
Der Präfix ist der Suffix des Paketnamen (z.~B. \texttt{core} oder \texttt{music}).
Der Suffix beschreibt die Funktion des Moduls (z.~B. \texttt{events} oder \texttt{parameters}).
Präfix und Suffix sind durch einen Unterstrich getrennt.

\begin{table}[H]
    \begin{center}
        \begin{tabular}{l l l}
            \hline
            Paketidentität (Präfix) & Modulfunktion (Suffix) & Modulname \\ [0.5ex] 
            \hline\hline
            \texttt{core} & \texttt{parameters} & \texttt{core\_parameters} \\
            \texttt{music} & \texttt{events} & \texttt{music\_events} \\
            \texttt{midi} & \texttt{converters} & \texttt{midi\_converters} \\
            \hline
        \end{tabular}
    \end{center}

    \caption{Exemplarische Module}
\end{table}

Das Importieren im Quellcode funktioniert auf gleiche Weise wie oben beschrieben:

\begin{lstlisting}
    from mutwo import core_parameters
    from mutwo import music_events
    from mutwo import midi_converters
\end{lstlisting}

\subsubsection{Abstrakte Basisklassen}
\label{abstractBaseClasses}

Wie in \emph{\nameref{quellcodeStruktur}} vorgestellt, enthält jedes \emph{mutwo} Modul potenziell das \texttt{abc}~\footnote{%
    i.\ e. \emph{abstract base classes}%
} Teilmodul.
In diesen Modul werden abstrakte Klassen definiert.
Abstrakte Klassen sind Klassen deren Methoden oder Attribute nicht oder nur stellenweise implementiert sind.
Abstrakte Klassen können deshalb nicht initialisiert werden.
Von abstrakten Klassen können unterschiedliche dritte Klassen erben, die fehlende Teile implementieren.
Sind alle fehlende Teile implementiert, kann eine abgeleitete Klasse initialisiert werden~\parencite{abstractTypeWiki}.

\bigskip

In \emph{mutwo} ermöglichen abstrakte Klassen die Definition der öffentlichen Schnittstelle (API) einer Programmkomponente.
Verschiedene, zusammenhängende Programmkomponente erwarten voneinander entsprechende API.
Sie sind damit unabhängig von spezifischen Implementierungen.
Diese Technologie unterliegt der im im Kapitel \emph{\nameref{parameterSpecification}} beschriebenen Definition der Parameterklassen.
Die im \texttt{abc} Teilmodul des \texttt{parameters} Modul deklarierte Klassen definieren ihre kompakte Identität über ein nicht--implementiertes Attribut.

\begin{table}[H]
    \begin{center}
        \begin{tabular}{l l l l} 
            \hline
            Parameter & Klassenname & Abstraktes Attribut & Attributdatentyp \\ [0.5ex] 
            \hline\hline
            Tonhöhe & \texttt{Pitch} & \texttt{frequency} & Gleitkommazahl \\ 
            Tonhöhenintervall & \texttt{PitchInterval} & \texttt{interval} & Gleitkommazahl \\ 
            Dauer & \texttt{Duration} & \texttt{duration} & Bruch \\ 
            Text & \texttt{Lyric} & \texttt{phonetic\_script} & Zeichenkette \\ 
            Lautstärke & \texttt{Volume} & \texttt{amplitude} & Gleitkommazahl \\ [1ex] 
            \hline
        \end{tabular}
    \end{center}

    \caption{Präzision der Liste exemplarischer Ein-Wert-Parameter}
\end{table}

Dritte Bestandteile \emph{mutwos} erwarten nur diese minimal--definierte Schnittstelle.
Das ermöglicht Benutzern die Implementierung einer Repräsentation einer Kategorie, die der jeweiligen Interpretation entspricht.
Das Design \emph{mutwos} versichert, dass die von Benutzern hinzugefügten Repräsentationen mit anderen Bibliothekskomponenten kompatibel sind.

\begin{figure}[h!]
    \includegraphics[scale=0.4]{uml_diagrams/pitches.png}

    \caption{%
        Schematische Darstellung eines Parameter und seine unterschiedliche Teilklassen.
        Die abgeleiteten Klassen ermöglichen unterschiedliche Perspektiven derselben Entität.
        Sie werden mit unterschiedlichen Argumenten initialisiert.
    }

\end{figure}

\subsubsection{\emph{Konvention vor Konfiguration}}
\label{conventionOverConfiguration}

Das Entwicklungsparadigma \emph{Konvention vor Konfiguration} entspannt den in \emph{\nameref{motivationUndAbsicht}} beschriebenen Konflikt zwischen Anpassbarkeit und Einfachheit.
Viele Funktionen und Methoden \emph{mutwos} haben eine große Anzahl potenzieller Argumente.
Häufig ist Intention der reichen Argumente das generische, adaptive Designziel zu erfüllen.
Benutzer:innen werden für einige Argumente selten eine Notwendigkeit entwickeln, diese explizit zu deklarieren.

\bigskip

In dieser Situation kann genanntes Paradigma helfen.
\emph{Konvention vor Konfiguration} empfiehlt, dass Benutzer:innen einer Bibliothek nur unkonventionelle Konfigurationen spezifizieren müssen~\parencite{conventionOverConfiguration}.

\bigskip

\emph{Mutwo} realisiert diese Empfehlung mithilfe sensibler Voreinstellungen.
Viele Argumente haben voreingestellte Standardwerte.
Wird kein expliziter Wert deklariert, fallen Funktionen und Methoden auf diese zurück.
Dadurch müssen Benutzer:innen nur elementare oder für sie relevante Argumente angeben.

\bigskip

Dieses Paradigma birgt die Gefahr bestimmte (Musik--)Traditionen oder Ästhetiken zu priorisieren.
Die Gefahr ist darin begründet, dass manche (die den Konventionen entsprechenden) Lösungen einfacher umzusetzen sind als andere.
In meinem Verständnis wiegt der Mehrwert einer einfachen, intuitiven und von Standardformulierungen befreiten Anwendung diese Gefahr auf.

\subsubsection{Globale Voreinstellungen}

Um beschriebene Gefahr einzudämmen, vereinfacht \emph{mutwo} das Überschreiben der Voreinstellungen mithilfe globaler Variablen.
Wird kein expliziter Wert deklariert, weisen Funktionen und Methoden während der Laufzeit dynamisch die Werte ihrer Argumente diesen Variablen zu.
Wird eine Abweichung einer Konvention notwendig, kann die Konvention mit wenigen imperativen Zeilen überschrieben werden.

\vspace{-0.5cm}

\begin{center}
    \fbox{\includegraphics[page=1,scale=0.95]{jupyter/Globale_Voreinstellungen.pdf}}
\end{center}

Daneben unterstützt diese Strategie eine flexible Arbeitsweise, die unmittelbar auf Veränderungen reagiert.
Ein Beispiel ist ein Szenario einer Komposition mit Instrumenten alter Musik und einer Klangdatei.
Der Kammerton Instrumente alter Musik variiert.
Wird die Klangdatei in \emph{mutwo} erzeugt, kann der Kammerton an unterschiedliche Instrument angepasst werden.

\subsubsection{Dokumentation öffentlicher Schnittstellen}

Im Quellcode \emph{mutwos} sind die für Dritte intendierten Objekte dokumentiert.
Mithilfe der Software \emph{Sphinx} wird automatisiert aus dem Quellcode eine Dokumentation erzeugt.
Das unterstützt die Transparenz vielfältiger Argumente und Konfigurationsvariablen.
In Appendix kann die automatisierte Dokumentation gefunden werden.
% Um den Reichtum der Argumente und Konfigurationsvariablen transparent zu machen

\subsubsection{Unspezifische Ereignisse; dynamische Akzessoren}

Kapitel \emph{\nameref{abstractBaseClasses}} beschreibt, wie \emph{mutwos} Parametermodell individuelle Repräsentationen ermöglichen.
Adäquat dazu werden Ereignisse möglichst generisch behandelt.
Entwickler:innen werden nicht zur Verwendung bestimmten Formen spezifischer Ereignisse (z.~B. Pause, Akkord, Note, Takt) gezwungen.
\emph{Mutwos} Vertrag erwartet nur, dass Benutzer:innen Instanzen der Ereignisbasisklassen oder Instanzen davon abgeleiteter Klassen verwenden.
Die Ereignisbasisklassen sind die in Kapitel \emph{\nameref{eventDefinitions}} beschriebenen Klassen \texttt{SimpleEvent}, \texttt{SequentialEvent} und \texttt{SimultaneousEvent}~\footnote{%
    Übersetzer und andere \emph{mutwo} Objekte benötigen Basisklassen, um Blattknoten eines Ereignisbaums erkennen zu können und um zwischen akkumulierenden und parallelen Ereignisbehälter unterscheiden zu können.
    Zukünftig könnte das Problem mit dynamischen Akzessoren und standardisierten Rückfallwerte gelöst werden.
    Dann müsste \emph{mutwos} Vertrag nur das Erben der generischen Klasse \texttt{Event} fordern.
}.

\bigskip

Die Abwesenheit spezifischer Ereignisklassen ist mithilfe Pythons Unterstützung von Introspektion, Funktionen höherer Ordnung und dynamischen Attributen möglich.
Spezifische Klassen mögen darin begründet sein, dass dritte Programmkomponente bestimmte Attribute oder Methoden von ihren Eingangswerten erwarten (müssen).
Indem dritte Programmkomponente als Funktionen höherer Ordnung implementiert sind, kann \emph{mutwo} diese Anforderung mit geringeren Einschränkungen von unterstützten Datentypen erfüllen.

\bigskip

Neben der Ereignisinstanz sind die Eingangswerte dritter Programmkomponente Funktionen.
Diese Funktionen erhalten wiederum später die Ereignisinstanz als Eingangswert.
Als Ausgangswert müssen sie ein bestimmtes erwartetes Attribut zurückgeben.
Über den Umweg der als Eingangswert mitgegebenen Funktion, kann die dritte Programmkomponente somit versichern, ein spezifisches Attribut zu erhalten.

% XXX: Ja, es ist auch möglich DEFAULT_PITCH_LIST_TO_SEARCH_NAME zu überschreiben.
%      Aber dann wird immer noch eine pitch liste gesucht und nicht eine einzelne tonhöhe.
%
% In folgendem Beispiel ist die Abstraktion konkretisiert.
% Zur verbesserten Anschaulichkeit wird die 


%%%%%%%%%%
%%%%%%%%%% Hier kann jetzt das jupyter notebook eingefuegt werden!

% higher order functions
\hspace{-0.5cm}
\fbox{\includegraphics[page=1,scale=0.85]{jupyter/unspezifische_ereignisse_1_improved.pdf}}

Python ermöglicht dynamische Zuweisungen von Attributen.
Ein zusätzliches Entwurfsmuster in \emph{mutwos} Ereignismodell ist damit die ad-hoc Zuordnung benötigter Attribute.
In manchen Fällen bedingt das elegantere Lösungen als das Schreiben einer neuen oder das Modifizieren einer bestehenden Klasse.

\vspace{0.75cm}


% dynamic attributes
% \begin{center}
\hspace{-0.4cm}
\fbox{\includegraphics[page=1,scale=0.875]{jupyter/unspezifische_ereignisse_2.pdf}}
% \end{center}

\vspace{0.75cm}

Die Komplexität unspezifischer Ereignisse wird mit der Strategie \nameref{conventionOverConfiguration} abgefangen.
Das Paket \texttt{mutwo.music} implementiert die Klasse \texttt{NoteLike}.
Die Klasse \texttt{NoteLike} ist von der gleichnamigen Klasse der Bibliothek \emph{SCAMP} beeinflusst.
Sie repräsentiert ein diskretes musikalisches Ereignis mit keiner, einer oder mehreren Tonhöhen (ein Ton, eine Pause, ein Akkord).
Sie mag ausreichen für viele Anwendungsfälle musikbezogener Funktionen \emph{mutwos}.
Deshalb sind alle Standardwerte so gesetzt, dass sie den Feldern der Klasse \texttt{NoteLike} entsprechen.
Das gewährleistet, dass das avancierte, komplexere Potenzial \emph{mutwos} Ereignismodell nur verstanden und angewandt werden muss, wenn es die projektspezifischen Anforderungen bedingen.


%% XXX: Finde ich nicht so wichtig (ist cool, aber ich selber benutze es kaum)
%
%%%%%%%%%% Nach diesem notebook dann nochmal kurz gedanke, dass diese funktionen dann auch adhoc benutzt werden
%%%%%%%%%% koennen um einfach irgendeine funktion rein zu geben und um dann ereignisse nur als dauern zu lesen.
%%%%%%%%%% ZB. Performer:in improvisiert zu jeder Bewegung noch einen TOn, jetzt kann ich das simulieren indem
%%%%%%%%%% ich einfach einen random generator funktion reingebe!


% XXX: Diese hier sind nicht so relevant. 
% \subsubsection{Trennung von format-, programm-, protokollspezifischen Darstellungen und interner Repräsentation}
% \subsubsection{Abwesenheit vorgegebener Arbeitsmodelle}

% XXX: Die letzen vier sind hingegen einfach und schnell zu erklaeren.

\subsubsection{Annotation von Typen im Quellcode}
\label{typeAnnotations}

% In Python müssen Variablen und Argumente nicht wie in z.~B. der Sprache Java typisiert werden.
In Python muss der Datentyp von Variablen, Argumente oder Rückgabewerte nicht spezifiziert werden.
Seit Python 3.5 werden aber optionale Annotationen der Datentypen unterstützt~\parencite{typingModuleDocumentation}.
Die Annotationen haben keinen Einfluss in der Programmlaufzeit.
Sie ermöglichen aber in der Entwicklungsphase dritten Programmen inkonsistente Argumenttypen im Quellcode zu markieren.
% XXX: Stimmt das wirklich? https://wphomes.soic.indiana.edu/jsiek/what-is-gradual-typing/
%      Ja, weil das steht auch hier:
%
%      Static type checking catches bugs earlier, thereby removing the greater cost of fixing bugs later in the development cycle or the even greater cost of a bug that occurs in the field. Good point! Fans of dynamic typing will argue that you catch even more bugs by creating a thorough test suite for your programs. Nevertheless, I believe static type checking provides a convenient and low-cost way to catch type errors.
Das mag einer frühzeitigen Vermeidung bestimmter Fehler helfen~\parencite{typeHintPep}.

\bigskip

Die Argumente und Rückgabewerte der Funktionen und Methoden \emph{mutwos} sind mit ihrem Datentyp annotiert.
Neben dem Mehrwert eines fehlerreduzierten Programmes, ist primäre Absicht der Annotation Kommunikation.
Die Kommunikation ist an Entwickler:innen und Benutzer:innen \emph{mutwos} gerichtet.
Aufgrund der unspezifischen Struktur provoziert \emph{mutwo} projektspezifische Adaptionen.
Um Anpassungen vornehmen zu können müssen Dritte ein klares, schnelles Verständnis eines zu erweiternden Objekts gewinnen können.
Annotationen helfen hierbei unmittelbar zu begreifen, welche Art von Daten operiert werden.
Sie befreien von mühevoller Analyse des Quellcodes, um z.~B. nachzuvollziehen, welchem Datentyp der Rückgabewert einer Funktion entspricht.

\subsubsection{Konsistente Namenskonventionen}

\emph{Mutwos} Quellcode verfolgt eine konsistente Benennung von Objekten.
Die Benennung ist einerseits in Konventionen der Sprache Python begründet (z.~B. Klassennamen sind Binnenversalien).
Aber andererseits werden diese Konventionen mit zusätzlichen Regeln erweitert.

\begin{enumerate}
    \item{%
            \textbf{Abkürzungen müssen vermieden werden.}
            Abkürzungen verdecken die Bedeutung von Variablen.
            Wollen Dritte einen Quellcode oder eine Schnittstelle verstehen, erhöhen Abkürzungen die Einstiegshürde.
            % Es ist uneindeutig wann eine Variable abkürzt werden soll und wann nicht.
    }
    \item{%
            \textbf{Variablen müssen niemals im Plural sein.}
            Stattdessen muss für einen Behälter der Datentyp des Behälters angegeben werden.
            Exemplarisch soll eine Liste von Tonhöhenobjekte deshalb nicht \texttt{pitches}, sondern \texttt{pitch\_list} benannt werden.
            Das vermittelt unmittelbar Eigenschaften über die Objektsammlung (z.~B. ob sie modifizierbar ist).
    }
    \item{%
            \textbf{Modulnamen sollten im Plural sein.}
            Einige Standardmodule Pythons stehen im Plural (z.~B. \texttt{fractions}, \texttt{collections}, \texttt{types}).
            Das ist als Konvention von diesen Modulen abgeleitet.
            Mithilfe der vorhergehenden Regel sind Module am Namen erkenntlich.
    }
\end{enumerate}

% ist ausschweifend == verbose?
Die Begründung für die ausführliche, wortreiche Benennung entspricht der Begründung für die \emph{\nameref{typeAnnotations}}.
Möglichst eindeutig und klar für Dritte zu sein wird als entscheidender gewichtet als ein reduzierter Text.

% \subsubsection{Warnungen und Fehlermeldungen}

% \subsubsection{Deskriptive Fehlermeldungen und Warnungen}
% 
% \subsubsection{Warnungen statt Fehler}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\subsection{Beispiel-orientierte Einführung}

% Hier ist die Idee ein Art minimales Gamelanbeispiel zu geben.
%
% Und zwar:
%
%   1. Definition von Tonhoehenklasse
%       - KarawitanPitch
%           - PitchIndex
%           - Octave
%           - ConcertPitch
%           - abstractMethod: pitch_index_to_cent_deviation_dict
%       - PelogPitch
%       - SlendroPitch
%
%   2. Definition einer Rhythmusklasse
%       - KarawitanRhythm
%           - beat_count
%           - level
%
%   3. Definition einer Melodie -> berühmtes Gamelanstück nehmen
%
%   4. Export der Melodie in eine MIDI Datei
%
%   5. NOTATE --- Definition eines Übersetzer (frontend)
%       - BalunganToKepathian
%      und mit "EventToAbjadVoice" westliche Notation erzeugen
%
%   6. Definition eines Übersetzer (symmetrical)
%       - BalunganToBonangan
%           - SymmetricalEventConverter


% oder besser:

% %%%% Karawitan in mutwo %%%% %

% (1) Benutzerspezifische Parameter: Tonhöhe und Rhythmus

% (2) Ereignisse: Melodien, Sequenzen, Noten

% (3) Export von Ereignisse in MIDI Dateien und Notation

% (4) Export von Ereignisse in Notation

% (5) Benutzerspezifischer Export von Ereignisse: Kepathian

% (6) Definition interner Algorithmen


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\subsection{Limitierungen und Grenzen}
\label{limitsAndBorders}

Die in \emph{\nameref{compositionAndTools2}} verwendeten Begriffe Utopie und Versuch implizieren das Scheitern der Wirklichkeit.
Sie implizieren zugleich ein kontinuierliches Weiter, in dem Scheitern Teil eines Zyklus ist.
Zentral wird ein Konflikt zwischen Wirklichkeit (Pragmatismus) und Vorstellung (Idealismus) verhandelt.
Die anspruchsvolle Spezifikation \emph{mutwos}, besonders der generischen Strukturen, steht projektbezogenen Arbeiten (wegen den damit verbundenen Fristen) unverträglich entgegen.

\smallskip

In Version \texttt{0.17.1} des Pakets \texttt{mutwo.music} wird der Parameter \texttt{PlayingIndicator} definiert.
Die Klasse \texttt{PlayingIndicator} fungiert als Sammelbegriff verschiedener Spieltechniken wie Artikulationen, Ornamente oder Flageoletts.
Die jeweilige Spieltechnik ist als eigene Klasse implementiert, die von der Klasse \texttt{PlayingIndicator} erbt.
Beschriebene Spieltechniken stehen in enger Beziehung zu europäischer Notation.
Europäische Notation kann im \emph{mutwo} Ökosystem gegenwärtig nur mit dem Paket \texttt{mutwo.abjad} erzeugt werden.
Mit \texttt{mutwo.abjad} können \emph{mutwo} Datenstrukturen in Datenstrukturen der Bibliothek \emph{abjad} übersetzt werden.
\emph{Abjad} ist ein Adapter der Notationssoftware \emph{Lilypond}.
Die Repräsentationen \emph{abjad} stehen deshalb \emph{Lilyponds} Syntax und Befehle sehr nahe.
Diese Verkettung von Eigenschaften bedingt, dass verschiedene Spielindikatoren \emph{mutwos} Syntax und Eigenheiten von \emph{Lilypond} wiederspiegeln.
Um ein Objekt der Klasse \texttt{WoodwindFingering} zu initialisieren sind z.~B. die Argumente \texttt{cc}, \texttt{left\_hand} und \texttt{right\_hand} erforderlich.
Die Argumente erwarten jeweils einen Tupel, der mit Zeichenketten gefüllt ist.
Diese Form der Repräsentation von Holzbläsergriffen entspricht dem Befehl in \emph{Lilypond}. 
Eine so direkte Beziehung verletzt die Intention \emph{mutwos}.
Die korrekte Umsetzung des oberen Beispiels könnte eine Implementierung einer einfachen, verständlichen, dokumentierten Repräsentation von Holzbläsergriffen umfassen.
Die innere Repräsentationen \emph{mutwos} wäre dann so gestaltet, dass sie offen und neutral gegenüber unterschiedliche dritte Formate wie \emph{MusicXML}, \emph{MSCX} oder \emph{Lilypond} wäre.
Ursache der ungenügenden Situation ist eine Mischung aus einer projektspezifischen Notwendigkeit für eine bestimmte, noch abwesende Funktion und der projektspezifischen Einschränkung der Ressource Zeit.

\smallskip

Im abstrakten Ereignismodell \emph{mutwos} sind Ereignisse Kompositionen einer unbestimmten, benutzerdefinierten Menge von Vektoren.
In Version \texttt{0.61.6} des Pakets \texttt{mutwo.core} enthalten Ereignisse immer nur den Vektor Dauer.
In der initialen Entwicklung \emph{mutwos} enthielt das Ereignismodell nur Ereignisse mit Dauern.
Erst in kürzlichen Projekten (einer räumlichen Laufpartitur und einer algorithmischen Zeichnung) verstand ich die Notwendigkeit, Ereignisse generischer zu beschreiben.

\smallskip

\emph{Mutwo} enthält und enthielt eine Vielzahl solcher Beispiele.
Die Entwicklungsstrategie ist die ad-hoc Realisierung eines Prototypen in einem projektspezifischen Kontext und anschließender Verbesserung.

\bigskip

Das zweite Beispiel macht auf eine weitere Schwierigkeit aufmerksam.
Sie hängt mit der geringen Anzahl Entwickler:innen und dem jungen Lebensalter des Projekts \emph{mutwo} zusammen.
Das Design \emph{mutwos} fordert die Beschreibung generischer Strukturen (z.~B. eine allgemeine Tonhöhenklasse).
Zugleich sollen die generischen Strukturen spezifiziert werden, um konkrete Vorstellungen repräsentieren zu können (z.~B. eine Tonhöhenklasse im Sinne europäischer Musiktheorie oder eine Tonhöhenklasse für die reine Stimmung).
Die Konkretisierungen, die in \emph{mutwo} bereits implementiert sind, vereinfachen die Realisierung bestimmter Vorstellungen.
Sie erschweren damit zugleich die abwesenden Konkretisierungen, welche von Benutzer:innen autark entwickelt werden müssen.
Damit bevorzugt \emph{mutwo} indirekt bestimmte Ästhetiken, Vorstellungen oder Traditionen, nämlich solche, die von mir benötigt werden.
Das Ungleichgewicht kann niemals aufgelöst werden.
Es kann aber ausgeglichen werden, wenn die Anzahl der Entwickler:innen der Bibliothek \emph{mutwo} zunehmen.
Eine höhere Anzahl Mitwirkender verdichtet die Menge unterschiedlicher Weltvorstellungen; die Bibliothek wird damit diverser und unparteiischer.
Dieses Argument ist nicht nur für Ereignisse und Parameter, sondern auch für Übersetzer valide.
Bestehende Übersetzerpakete wie \texttt{mutwo.mbrola} (Sprachsynthese), \texttt{mutwo.csound} (Klangsynthese) oder \texttt{mutwo.ekmelily} (mikrotonale Notation mit \emph{Lilypond}) spiegeln Anforderungen meiner eigenen künstlerischen Arbeit wieder, die nicht notwendigerweise Anforderungen Dritter entsprechen.

% Manche der Probleme sind schwieriger zu löse

% wegen den ersten beiden gründe sind manche sachen noch unnötig kompliziert in mutwo,
% gegenwärtig.
%
%   - rhytmusnotation in westlicher musik


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\subsection{Fallbeispiele}

\subsubsection{\emph{thanatos trees for Tim Pauli}}
\label{thanatosTreesChapter}

Das erste Werk, welches mit \emph{mutwo} entstand, ist die Klanginstallation \emph{thanatos trees for Tim Pauli}.
Sie besteht aus einer Klangdatei mit 15 bis 17 Audiokanäle, die über 25 Lautsprecher abgespielt wird.
Die Lautsprecher sind an Ästen dünner Stämme befestigt.
Die Stämme sind mithilfe von Baumständer aufgestellt.

\begin{figure}[h!]
    % \hspace{-1cm}
    \includegraphics[scale=0.28]{pictures/ltk4_open_call_2021_6.jpg}

    \caption{%
        \emph{thanatos trees for Tim Pauli} im LTK4 in Köln.
    }
\end{figure}

Ausgangspunkt der Arbeit war eine Reflexion über die Skalen gemeinsamer Produktmengen (\emph{common-product set scales} oder kurz CPS Skalen) des US-amerikanischen Stimmungstheoretiker Erv Wilson.

\smallskip

Eine CPS Skala nach Wilson ensteht durch die Multiplikation von $n$ Faktoren aus einer Menge $S$.
Für z.~B. $n=2$ und $S=\{1, 3, 5, 7\}$ besteht der Modus aus den sechs Partialtönen $1*3=3$, $1*5=5$, $1*7=7$, $3*5=15$, $3*7=21$ und $5*7=35$~\parencite[S. 150f]{ervWilsonBook}.

\smallskip

Ich bemerkte, dass eine Überlagerung verwandter CPS Skalen eine symmetrische, zyklische Struktur beschreiben kann.
Die Struktur besteht aus verschiedenen Gruppen von Harmonien, die über gemeinsame Tonhöhen verbunden sind.
Jede Harmonie besteht aus einer einzigartigen Menge von Tonhöhe.
Alle Harmonien enthalten dieselben Intervalle, aber in anderen Lagen oder Umkehrungen.
Die symmetrische, dezentrale, ambulante Struktur deutete für mich darauf hin, dass sie in einer installativen Situation (d.~h. ohne Anfang und Ende) konsistenter erfahrbar wäre, als in einem konzertanten Kontext.

\begin{figure}[h!]
    % \hspace{-1cm}
    % \begin{center}
        \hspace{0.5cm}
        \includegraphics[scale=0.185]{pictures/setup-thanatos-trees.png}
    % \end{center}
    \caption{%
        Skizze zum Aufbau der Installation.
    }
\end{figure}

Mithilfe von \emph{mutwo} wollte ich eine Klangdatei erzeugen, die in Dauerschleife abgespielt würde.
Eine Schleife schien adäquat für die zyklischen Eigenschaft der Struktur.
Die Klangdatei sollte primär aus Sinusoiden bestehen.
Jeder Sinusoid sollte exakt einer Tonhöhe einer Harmonie und einem Lautsprecher zugewiesen werden.

\smallskip

Der Quellcode des Projekts ist in vier Teilmodule gegliedert.

\begin{enumerate}
    \item{%
        \textbf{classes}.
        Verschiedene projektspezifische Klassen werden hier unsortiert definiert.
        Das umfasst Ereignisse, Generatoren und Parameter.
    }

    \item{%
        \textbf{constants}.
        Hier werden einerseits die globalen Vorbedingungen der Komposition definiert (z.~B. die verwendeten Primzahlen oder Dateipfade).
        Andererseits werden aus den gegeben Vorbedingungen konkrete Instanzen der zuvor beschriebenen Klassen initialisiert.
    }

    \item{%
        \textbf{converters}.
        Die Übersetzung unterschiedlicher interne Repräsentationen (von einer groben zu einer feineren Auflösung) sind implementiert.
        Die feinste Auflösungen werden in Klangdateien übersetzt.
        Auch diese Übersetzungen sind als Klassen definiert.
    }

    \item{%
        \textbf{synthesis}.
        In dieser Kategorie finden sich der Quellcode für die Klangsynthesesprache \emph{Csound}.
        Dieser Quellcode wird von den Übersetzer benutzt, um die Klangdateien zu generieren.
    }
\end{enumerate}

Die wichtigste kompositorische Identität findet sich in den Kategorien \emph{converters} und \emph{constants}.
Abbildung~\ref{fig:thanatosMutwoStructure} zeigt schematisch, wie die Arbeit als eine Entwicklung unkonkreter (grob aufgelöste) Ereignisse in konkretere (fein aufgelöste) Ereignisse konzipiert ist.
Das Element \texttt{Weather} in der Abbildung beeinflusst die Übersetzung der \texttt{Partial} Instanzen in die \texttt{Vibration} Instanzen.
Der Zyklus der harmonischen Gruppen wird in der Klangdatei mehrmals wiederholt.
Jede Repetition variiert die Realisierung einer Gruppe.
Variiert werden Eigenschaften wie präsente Frequenzbereiche oder das Ein- und Ausschwingverhalten einzelner Töne.
Ursache der Variation ist eine Instanz der \texttt{Weather} Klasse.
Die Idee ist, dass im Verlauf der Installation dasselbe Objekt unter verschiedenen Umwelteinflüsse (unterschiedlichem Wetter) erfahrbar wird.

\bigskip

\emph{Mutwos} innere generische Repräsentationen von Ereignisse waren für den Projektverlauf entscheidend.
Während anfänglich die Prämisse bestand nur Sinusoide zu verwenden, wurde im Arbeitsprozess deutlicher, dass auch weitere Klangquellen bereichernd sein könnten.
Aufgrund der inneren abstrakten Repräsentation war es unmittelbar möglich dieselben Daten in MIDI Dateien, Textpartituren für IRCAMs Gesangssynthesesoftware \emph{ISiS} und Zeichenketten im Markierungenformat des Programmes \emph{Reaper} zu übersetzen.
Letztgenannte Übersetzung war wertvoll, um globale Entscheidungen mithilfe einer visuellen Rückkoppelung besser begreifen zu können.

\begin{figure}[h!]
    % \hspace{-1cm}
    \begin{center}
        % \hspace{0.5cm}
        \includegraphics[scale=0.5]{pictures/thantostrees-for-timpauli-mutwo-structure.png}
    \end{center}
    \caption{%
        Schematischer Aufbau der Programmstruktur von \emph{thanatos trees for Tim Pauli}.
        Gelb markierte Elemente repräsentieren Ereignisse, grün markierte Elemente sind Übersetzer.
    }
    \label{fig:thanatosMutwoStructure}
\end{figure}

Ein Teilproblem in dem Projekt war die Verteilung von Dauern auf Gruppen und ihre einzelne Partialtöne.
Sich anschließende Gruppen überlappen sich.
Jede Gruppe besteht deshalb aus einem überlappenden Teil mit der vorhergehenden Gruppe, einen solistischen Teil und einen überlappenden Teil mit der anschließenden Gruppe.
Jede Gruppe hat nur eine bestimmte Menge von erlaubten Dauern, die aus der harmonischen Struktur der Gruppe abgeleitet ist.

\bigskip

Beschriebens Teilproblem kann mit Constraintprogrammierung gelöst werden.
Constraintprogrammierung ist ein Paradigma mit dem kombinatorische Probleme gelöst werden können.
Benutzer:innen deklarieren Einschränkungen für erlaubte Lösungen einzelner Variablen.
Ein Algorithmus versucht aus diesen Einschränkungen eine oder mehrere Kombinationen erlaubter Werte für alle definierte Variablen zu finden~\parencite{constraintProgramming}.

\bigskip

Die von Google in C++ entwickelte, quelloffene Software \emph{OR-Tools} zur Lösung kombinatorischer Optimierungsprobleme unterstützt Constraintprogrammierung.
Die Sofware hat Adapter für die Sprachen Java, C\# und Python.
Die Popularität der Programmiersprache der Realisierung des Projekts \emph{thanatos trees for Tim Pauli} erlaubte so unmittelbaren Zugriff auf avancierte Algorithmen des umfassend dokumentierten Programmes \emph{OR-Tools}.
Gegebenes Beispiel ist exemplarisch für einen bestimmten Mehrwert in der Wahl Python als \emph{mutwos} unterliegende \emph{\nameref{programmingLanguage}}.


% XXX: Zum Schluss schreiben, wie mutwo spezifisch das Projekt realisiert wurde, was besonders daran ist.
%
% 1. Sachen aus dem Projekt wurden später in den allgemeinen mutwo Code übernommen (Übersetzer von LoudnessToAmplitude, Ambitus, ...)
%
% \emph{Mutwos} Einteilung in Ereignisse und Übersetzer ist entscheidend für den Projektaufbau.



\subsubsection{\emph{ohne Titel (2)} und \emph{ohne Titel (3)}}

Die konzertanten Kompositionen \emph{ohne Titel (2)} und \emph{ohne Titel (3)} sind zeitnah und überschneidend innerhalb weniger Monate entstanden.
Beide haben eine Dauer von etwa 45 Minuten, sind kammermusikalisch besetzt, kombinieren Instrumente mit einer mehrkanaligen Klangdatei (die in beiden Werken aus synthetisierten Klängen und Feldaufnahmen bestehen), entfalten sich in einer langsamen Form und spezifizieren geräuscharmen Klänge in präziser Intonationen.
Die Instrumentalstimmen beider Werke sind überwiegend in Form von \emph{time--brackets} nach John Cage notiert.

\bigskip

\begin{figure}[h!]
    % \hspace{-0.5cm}
    \begin{center}
        \includegraphics[scale=0.25]{pictures/time-bracket-ohne-titel-3-2.png}
    \end{center}
    \caption{%
        % Exemplarische \emph{time--bracket} eines Mehrklangs der Saxophonstimme von \emph{ohne~Titel~(3)}.
        Exemplarisches \emph{time--bracket} der Violinstimme von \emph{ohne~Titel~(3)}.
    }
\end{figure}


\emph{Time--brackets} sind einzeln notierte Abschnitte, die eine variable Anfangs-- und Endzeit spezifizieren.
Musiker:innen können autonom entscheiden, wann sie innerhalb gegebener Abschnitte notierte Klänge beginnen und beschließen.

% TODO(ADD REFERENCE, CAGE!)

\bigskip

Neben \emph{time-brackets} gibt es in beiden Arbeiten (quantitativ reduzierte) Passagen synchronisierter Notationen (als Partitur).
Die synchronisierten Abschnitte basieren auf bestehende Literatur; in \emph{ohne Titel (2)} auf den cantus firmus Lassus' \emph{Quid prodest stulto habere divitias}; in \emph{ohne Titel (3)} auf den Westminsterschlag.
Statt eines Startbereiches gibt es für synchronisierte Abschnitte eine explizite Startzeit, statt eines Endbereiches eine Tempoangabe.

\bigskip

Die einzelnen Stimmbücher der Musiker:innen können ausgedruckt oder mithilfe eines PDF--Lesers angezeigt werden, um mit einer Stoppuhr gespielt zu werden.
Alle Stimmbücher werden aber in beiden Arbeiten alternativ als Videodateien bereitgestellt.
In den Videodateien wechseln die angezeigten Abschnitte mit dem Zeitverlauf automatisch, auf eine Stoppuhr kann verzichtet werden.

\bigskip

Abbildung~\ref{fig:ohneTitelMutwoStructure} verdeutlicht schematisch die Organisation des Quellcode zum Erzeugen der Notation, Videos und Klangdateien.
% von \emph{ohne Titel (2)} und \emph{ohne Titel (3)}.  % XXX Redundant!
Zentrum der Struktur ist eine Instanz der Ereignisklasse \texttt{TimeBracketContainer}.
Das Objekt sammelt alle \texttt{TimeBracket} Instanzen aller Stimmen (elektronisch und instrumental)\footnote{%
    In der Implementierung sind die synchronisierten Abschnitte mit expliziten Startwerte und Tempi nur Sonderformen einer allgemeinen \texttt{TimeBracket} Klasse.
}.
Sie werden über die \texttt{register} Routine dem \texttt{TimeBracketContainer} zugefügt.
Abschließend wird der \texttt{TimeBracketContainer} in unterschiedliche Ausgangsformate übersetzt.

\bigskip

Die eigentlichen \emph{time--brackets} sind variabel gewonnen.
Wichtigste Quelle ist eine Instanz der Ereignisklasse \texttt{FamilyOfPitchCurves} und verbundene Übersetzer.
Eine \texttt{FamilyOfPitchCurves} beschreibt Wahrscheinlichkeitsverläufe einzelner Intonationen über die Dauer eines Stückes.

\smallskip

In \emph{ohne Titel (3)} pendelt die Harmonie zwischen zwei Extrema, die aus potenziellen Flageoletts beider Instrumente abgeleitet sind.

\smallskip

In \emph{ohne Titel (2)} interpolieren Wahrscheinlichkeitsverläufe zwischen harmonischen Ankerpunkte, die Transpositionen des cantus firmus entsprechen.

\smallskip

Übersetzer erzeugen \texttt{TimeBracket} Instanzen aus einem \texttt{FamilyOfPitchCurves} Objekt und Start-- und Endzeiträume.
Von ihrer Basisklasse erben sie eine Funktion, die Wahrscheinlichkeiten der Intonationen der \texttt{FamilyOfPitchCurves} abhängig von gegebenen Start-- und Endzeiträume und der absoluten Position eines Ereignis in einer \emph{time--bracket} berechnet.
Mithilfe dieser Information verfolgen Übersetzer unterschiedliche Ansätze, um Inhalt einer \emph{time--bracket} zu bestimmen:
ein Übersetzer findet Akkorde maximaler Harmonizität\footnote{%
    Harmonizität beschreibt die Stabilität eines Intervalls.
    Harmonizität eines Schwingungsverhältnis kann mit Teilbarkeit und Größe seiner Zahlen quantifiziert werden~\parencite[S. 5f]{barlowHarmonicity}.
} innerhalb eines definiertes Ambitus,
ein anderer Übersetzer sucht melodische Verläufe mit minimalen Sprüngen und einem euklidischen Rhythmus\footnote{%
    Ein euklidischer Rhythmus ist die möglichst gleichmäßige Verteilung einer bestimmten Anzahl Anschläge auf eine bestimmte Anzahl Pulse~\parencite{toussaintEuclidean}.
}.
Die Ansätze unterliegen selbst Wahrscheinlichkeitsverläufe, die ihre Häufigkeit bestimmen.
Diese Wahrscheinlichkeitsverläufe sind händisch definiert.

\begin{figure}[h!]
    % \hspace{-1cm}
    \begin{center}
        % \hspace{0.5cm}
        \includegraphics[scale=0.42]{pictures/ohne-titel-mutwo-structure.png}
    \end{center}
    \caption{%
        Schematischer Aufbau der Programmstruktur von \emph{ohne Titel (2)} und  \emph{ohne Titel (3)}.
        Gelb markierte Elemente repräsentieren Ereignisse, grün markierte Elemente sind Übersetzer.
    }
    \label{fig:ohneTitelMutwoStructure}
\end{figure}


%%% Unterschiede zwischen den beiden Stücken oT2 und oT3
Trotz geteilter Strukturen, unterscheiden sich die Stücke \emph{ohne Titel (2)} und  \emph{ohne Titel (3)} in ihrem klanglichen Erleben.
Über gemeinsamen Untergrund sind kompositorisch--kontrastierende Entscheidungen gesetzt.
Zwischen den beiden Projektstrukturen gibt es redundante, sich wiederholende Abschnitte.
Die Mehrheit des Textes ist aber über Implementierungen im generischen Quellcodes \emph{mutwo} geteilt.

\smallskip

In \emph{ohne Titel (2)} verläuft Zeit gerichtet.
Die Form ist diskret geteilt.
Einzelne Abschnitte alterieren zügig.
Das Ende kann als irreversibles Ereignis gelesen werden, das kein Zurück zu einem Vorher (innerhalb der Form) erlaubt.
Die Besetzung der fünf Instrumente ist offen.
Die Klangdatei wird über vier möglichst neutrale, im Kreis aufgestellte Lautsprecher und drei, vor Spieler:innen aufgestellte Lautsprecher abgespielt.
Ideale Aufführungssituation ist ein geschlossener, abgedunkelter Raum mit längerer Nachhallzeit.

\smallskip

In \emph{ohne Titel (3)} verläuft Zeit ungerichtet.
Die Form ist kontinuierlich.
Alterierende Formabschnitte laufen in langsamen Bewegungen ineinander über.
Die global konstante, pendelnde Harmonie\footnote{%
    Variiert werden Frequenz und Ambitus der Pendelbewegung.
} verhindert im Zeitverlauf Orientierung.
Die Abwesenheit der Orientierung bedingt ein Gefühl der Zeitlosigkeit.
Die Besetzung der beiden Instrumente ist spezifiziert.
Die Klangdatei wird über mobile Kassettenrekorder (Radios) abgespielt, die ungeordnet aufgestellt werden.
Ideale Aufführungssituation ist ein offener Raum in der Natur.

\bigskip

Ausschlaggebend für die klangliche Wirklichkeit beider Werke ist die Angleichung von Elektronik und Instrumenten.
Auf Aufnahmen ist stellenweise schwierig zu erkennen, welches Klangereignis instrumentalen oder elektronischen Ursprungs ist.
Ursache der Ähnlichkeit ist das Erzeugen beider Bestandteile mit verwandten, innereren Repräsentationen.
Weil Objekte innerhalb \emph{mutwos} bis zur Übersetzung nicht ihr Ausgangsformat kennen, können sie generisch verwendet werden.
Klangdateien werden genauso wie instrumentale Stimmen als Sammlung von \emph{time--brackets} repräsentiert.
Übersetzer zum Erzeugen der Ereignisinstanzen entsprechen oder ähneln den instrumentalen Übersetzer.
Entscheidungen expliziter Start-- und Endzeiten trifft für Klangdateien ein (Pseudo--)Zufallsgenerator.
Jedem Entscheider wird einen konstanten Startwert (\emph{random seed}) zugewiesen.

\bigskip

Flexible innere Repräsentationen sind signifikant für Flageoletts und Mehrklänge in \emph{ohne Titel (3)}.
Im Umgang zwischen verschiedenen Bestandteilen und Algorithmen sind die resultierende Tonhöhen als Instanzen der Klasse \texttt{JustIntonationPitch} encodiert.
% Um 

\bigskip

Die Arbeiten \emph{ohne Titel (2)} und  \emph{ohne Titel (3)} ergänzen das Fallbeispiel \nameref{thanatosTreesChapter} um ein weiteres Konzept, was in \emph{mutwos} Modell (der Ereignisse und Übersetzer) eingebettet realisiert werden kann.
Beide Fallbeispiele teilen keinen generischen Algorithmus zum Erzeugen der umfassenden musikalischen Struktur.
Sie teilen aber kleine, praktische Funktionseinheiten, ein Modell, das die Umsetzung innerer Vorstellungen erlaubt und Überschneidungen der Arbeitsweise.
Die Arbeitsweise überschneidet sich, weil in allen Fallbeispiele Programmcode geschrieben wird, der für die Programmausführung einen Einstiegspunkt definiert.
Der Einstiegspunkt generiert die gesamte Komposition für bestimmte oder alle Ausgangsmedien.
Es werden nicht einzelne musikalische Identitäten wie Rhythmen oder Harmonien erzeugt, die anschließend händischen kompositorisch in eine Form gesetzt werden.
Stattdessen wird eine vollständige Form in Textdateien encodiert und in andere Medien (z.~B. Klangdateien) und Codierungen (z.~B. Notation) übersetzt.
Die Überschneidungen brechen nicht mit \emph{mutwos} \emph{\nameref{motivationUndAbsicht}} eines interfaceagnostischen Designs, denn das \emph{mutwo} Ökosystem \emph{könnte} z.~B. zum Erzeugen singulärer Bestandteile verwendet werden.
Zugleich muss angemerkt werden, dass das \emph{mutwo} Ökosystem gegenwärtig keine komplexe Benutzerschnittstelle implementiert. 
Es gibt z.~B. keine GUI, keine reiche Unterstützung für Objektpermanenz (Abspeichern in Datenbanken), keine Musikauszeichnungssprache, keine integrierte Entwicklungsumgebung (IDE).
In Abschnitt \emph{\nameref{limitsAndBorders}} \emph{mutwos} sind nicht technische Kompatibilitätsschwierigkeiten oder Unzulänglichkeiten des Designs, sondern die Abwesenheit einer Notwendigkeit gegenwärtiger Nutzer:innen.

\bigskip


% Mutwo hints:
%
%   - Flexible Struktur (synchron vs. asynchron). 
%   - Innere Repräsentation: JI pitches, äußere Repräsentation: normale europäische Tonhöhennotation
%   - Saxophon Mehrklänge: einer funktioniert nicht, oder doch anderer Griff: an einer Stelle ändern,
%     sofort alles geändert (einfach neues Video rendern).



\section{Zusammenfassung}

\subsection{Evaluation}

% Fallbeispiele: Unterschiedliche Stücke mit unterschiedlichen (innere und äußere) Aufbauten können realisiert werden.

\subsection{Richtungen weiterer Entwicklungen}


\newpage

\printbibliography

\newpage

\appendix


\newpage

\listoffigures


\end{document}
